import{r as m,j as e,c as pe}from"./client-BH2TIy28.js";import{c as fe}from"./companies-DFbZCpK-.js";import{m as j,u as be,h as C,A as B}from"./react-apexcharts.esm-3x7VgtAh.js";const oe=(...s)=>s.filter((t,o,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===o).join(" ").trim();const je=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ye=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,n)=>n?n.toUpperCase():o.toLowerCase());const te=s=>{const t=ye(s);return t.charAt(0).toUpperCase()+t.slice(1)};var Ne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Se=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const ve=m.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:l="",children:i,iconNode:a,...r},d)=>m.createElement("svg",{ref:d,...Ne,width:t,height:t,stroke:s,strokeWidth:n?Number(o)*24/Number(t):o,className:oe("lucide",l),...!i&&!Se(r)&&{"aria-hidden":"true"},...r},[...a.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));const E=(s,t)=>{const o=m.forwardRef(({className:n,...l},i)=>m.createElement(ve,{ref:i,iconNode:t,className:oe(`lucide-${je(te(s))}`,`lucide-${s}`,n),...l}));return o.displayName=te(s),o};const we=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ke=E("building-2",we);const Ce=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ee=E("chart-column",Ce);const He=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$e=E("check",He);const Ae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fe=E("chevron-down",Ae);const ze=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Re=E("refresh-cw",ze),ce=m.createContext(null);function R(){return m.useContext(ce)}function Le(s,t=1400){const[o,n]=m.useState(0),l=m.useRef(null),i=be(l,{once:!0});return m.useEffect(()=>{if(!i)return;const a=performance.now(),r=d=>{const c=Math.min((d-a)/t,1),u=1-Math.pow(1-c,3);n(Math.round(u*s)),c<1&&requestAnimationFrame(r)};requestAnimationFrame(r)},[i,s,t]),{value:o,ref:l}}function S({label:s,value:t,suffix:o,accent:n}){const l=R(),i=typeof t=="string"&&t.includes("%"),a=i?parseFloat(t):typeof t=="number"?t:parseInt(String(t).replace(/,/g,""),10),{value:r,ref:d}=Le(i?Math.round(a*10):a),c=i?`${(r/10).toFixed(1)}%`:r.toLocaleString("he-IL");return e.jsxs(j.div,{ref:d,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-sh-card rounded-card-sh shadow-card p-6 flex flex-col gap-1",children:[e.jsxs("div",{className:`text-4xl font-black ${n?"":"text-sh-text"}`,style:n?{color:l.accent}:void 0,children:[c,o&&e.jsx("span",{className:"text-xl font-bold mr-1",children:o})]}),e.jsx("div",{className:"text-sm text-sh-text-muted",children:s})]})}const se=[{key:"emailSent",label:"××™×™×œ × ×©×œ×—"},{key:"meetingHeld",label:"×¤×’×™×©×” ×”×ª×§×™×™××”"},{key:"agreementSent",label:"×”×¡×›× × ×©×œ×—"},{key:"agreementSigned",label:"×”×¡×›× ×—×ª×•×"},{key:"paid",label:"×©×•×œ×"}],Me=["#e8969f","#d68089","#c46a74","#b2555e","#a04049"];function Te({companies:s}){const t=s.length,o=se.map(l=>s.filter(i=>i[l.key]).length),n=o[0]||1;return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"××©×¤×š ×’×™×•×¡"}),e.jsxs("p",{className:"text-sm text-sh-text-muted mb-6",children:["×-",t," ×—×‘×¨×•×ª ×‘×œ×™×•×•×™"]}),e.jsx("div",{className:"space-y-3",children:se.map((l,i)=>{const a=o[i],r=a/t*100,d=a/n*100,c=i>0&&o[i-1]>0?Math.round(a/o[i-1]*100):null;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-sh-text",children:l.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[c!==null&&e.jsxs("span",{className:"text-xs text-sh-text-light",children:["(",c,"%)"]}),e.jsx("span",{className:"text-sm font-bold text-sh-text",children:a})]})]}),e.jsx("div",{className:"h-8 bg-sh-pink-light/40 rounded-lg overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:.8,delay:i*.1,ease:"easeOut"},className:"h-full rounded-lg flex items-center justify-center",style:{backgroundColor:Me[i]},children:e.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(r),"%"]})})})]},l.key)})})]})}const D={×›×Ÿ:{label:"×”×¦×˜×¨×¤×•",color:"#70bdb3"},×œ×:{label:"×œ× ×”×¦×˜×¨×¤×•",color:"#e8969f"},"×˜×¨× ×”×•×—×œ×˜":{label:"×˜×¨× ×”×•×—×œ×˜",color:"#e9ab56"}};function Ie({companies:s}){const t={};s.forEach(a=>{const r=a.status||"×˜×¨× ×”×•×—×œ×˜";D[r]&&(t[r]=(t[r]||0)+1)});const o=Object.keys(t).map(a=>D[a].label),n=Object.values(t),l=Object.keys(t).map(a=>D[a].color),i={chart:{type:"donut",fontFamily:"Noto Sans Hebrew, sans-serif",animations:{enabled:!0,speed:600}},labels:o,colors:l,legend:{position:"bottom",fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px",markers:{radius:4}},dataLabels:{enabled:!0,style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px"},formatter:(a,r)=>`${r.w.globals.series[r.seriesIndex]}`},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,total:{show:!0,label:"×¡×”×´×› ×—×‘×¨×•×ª",fontSize:"13px",fontFamily:"Noto Sans Hebrew, sans-serif",color:"#706e6d",formatter:()=>s.length},value:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"28px",fontWeight:700,color:"#454342"}}}}},tooltip:{style:{fontFamily:"Noto Sans Hebrew, sans-serif"},y:{formatter:a=>`${a} ×—×‘×¨×•×ª`}},stroke:{width:2,colors:["#f9f2f3"]}};return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×¡×˜×˜×•×¡ ×—×‘×¨×•×ª"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-2",children:"×—×œ×•×§×” ×œ×¤×™ ×¡×˜×˜×•×¡ ×”×¦×˜×¨×¤×•×ª"}),e.jsx(C,{type:"donut",series:n,options:i,height:300})]})}const ae=[{key:"paid",label:"×©×•×œ×"},{key:"agreementSigned",label:"×”×¡×›× ×—×ª×•×"},{key:"agreementSent",label:"×”×¡×›× × ×©×œ×—"},{key:"meetingHeld",label:"×¤×’×™×©×”"},{key:"emailSent",label:"××™×™×œ"}];function Oe({companies:s}){const t={paid:0,agreementSigned:0,agreementSent:0,meetingHeld:0,emailSent:0,none:0};s.forEach(a=>{a.paid?t.paid++:a.agreementSigned?t.agreementSigned++:a.agreementSent?t.agreementSent++:a.meetingHeld?t.meetingHeld++:a.emailSent?t.emailSent++:t.none++});const o=ae.map(a=>a.label),n=ae.map(a=>-t[a.key]),i={chart:{type:"bar",fontFamily:"Noto Sans Hebrew, sans-serif",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,distributed:!0,borderRadius:6,barHeight:"60%"}},colors:["#a04049","#b2555e","#c46a74","#d68089","#e8969f"],dataLabels:{enabled:!0,formatter:a=>Math.abs(a),style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px",fontWeight:600,colors:["#fff"]}},xaxis:{categories:o,labels:{formatter:a=>Math.abs(a),style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px"}}},yaxis:{opposite:!0,labels:{maxWidth:200,style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px",fontWeight:500,cssClass:"apexcharts-yaxis-label-shaveh"}}},legend:{show:!1},grid:{borderColor:"#f0e8e9",padding:{right:30},xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},tooltip:{style:{fontFamily:"Noto Sans Hebrew, sans-serif"},y:{formatter:a=>`${Math.abs(a)} ×—×‘×¨×•×ª`}}};return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×©×œ×‘ ×’×‘×•×” ×‘×™×•×ª×¨ ×‘×ª×”×œ×™×š"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-2",children:"×›××” ×—×‘×¨×•×ª × ××¦××•×ª ×‘×›×œ ×©×œ×‘"}),e.jsx(C,{type:"bar",series:[{data:n}],options:i,height:260})]})}function _e({value:s,onChange:t}){const[o,n]=m.useState(!1),l=R();return e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:i=>t(i.target.value),onFocus:()=>n(!0),onBlur:()=>n(!1),placeholder:"×—×™×¤×•×© ×—×‘×¨×” ×œ×¤×™ ×©×, ×”×¢×¨×•×ª ××• ××” × ×“×¨×©...",className:"w-full bg-sh-card rounded-xl px-4 py-3 pr-10 text-sm text-sh-text placeholder:text-sh-text-light focus:outline-none transition-colors",style:{border:`1px solid ${o?l.accent:l.light}`,boxShadow:o?`0 0 0 3px ${l.accent}4d`:"none"},dir:"rtl"}),e.jsx("svg",{className:"absolute top-1/2 right-3 -translate-y-1/2 w-4 h-4 text-sh-text-light pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}function v({label:s,value:t,options:o,onChange:n}){const[l,i]=m.useState(!1),a=m.useRef(null),r=R();m.useEffect(()=>{if(!l)return;function c(u){a.current&&!a.current.contains(u.target)&&i(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[l]),m.useEffect(()=>{if(!l)return;function c(u){u.key==="Escape"&&i(!1)}return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[l]);const d=t!=="×”×›×œ";return e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>i(!l),className:`flex items-center gap-2 text-sm rounded-pill px-4 py-2 border transition-all ${d?"text-sh-text font-medium":"bg-sh-card text-sh-text-muted"}`,style:d?{backgroundColor:r.accent+"1a",borderColor:r.accent}:{borderColor:r.light},children:[e.jsx("span",{className:"text-xs text-sh-text-light",children:s}),e.jsx("span",{className:d?"text-sh-text font-semibold":"",children:t}),e.jsx(Fe,{size:14,className:`transition-transform ${l?"rotate-180":""}`,style:{color:d?r.accent:"#948c89"}})]}),e.jsx(B,{children:l&&e.jsx(j.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"absolute top-full mt-1 right-0 z-30 min-w-[160px] bg-sh-card rounded-xl shadow-card-hover py-1 overflow-hidden",style:{border:`1px solid ${r.lightAlpha60}`},children:o.map(c=>{const u=c===t;return e.jsxs("button",{onClick:()=>{n(c),i(!1)},className:`w-full text-right px-4 py-2 text-sm flex items-center justify-between gap-3 transition-colors ${u?"text-sh-text font-semibold":"text-sh-text-muted hover:text-sh-text"}`,style:u?{backgroundColor:r.lightAlpha40}:void 0,onMouseEnter:h=>{u||(h.currentTarget.style.backgroundColor=r.bg)},onMouseLeave:h=>{u||(h.currentTarget.style.backgroundColor="")},children:[e.jsx("span",{children:c}),u&&e.jsx($e,{size:14,className:"shrink-0",style:{color:r.accent}})]},c)})})})]})}const ne={"×§× ×™×•× ×™× ×•××¨×›×–×™× ××¡×—×¨×™×™×":"×§× ×™×•× ×™×","××•×¦×¨×™ ×—×©××œ":"×—×©××œ ×•×ª×§×©×•×¨×ª",×—×©××œ:"×—×©××œ ×•×ª×§×©×•×¨×ª",×ª×§×©×•×¨×ª:"×—×©××œ ×•×ª×§×©×•×¨×ª",×‘×¨×™××•×ª:"×‘×¨×™××•×ª ×•×ª×¨×•×¤×•×ª",×ª×¨×•×¤×•×ª:"×‘×¨×™××•×ª ×•×ª×¨×•×¤×•×ª",×¤×™× × ×¡×™×:"×¤×™× × ×¡×™× ×•×‘×™×˜×•×—",×‘×™×˜×•×—:"×¤×™× × ×¡×™× ×•×‘×™×˜×•×—",×ª×¢×•×¤×”:"×ª×—×‘×•×¨×” ×•×ª×™×™×¨×•×ª",×ª×—×‘×•×¨×”:"×ª×—×‘×•×¨×” ×•×ª×™×™×¨×•×ª",×ª×™×™×¨×•×ª:"×ª×—×‘×•×¨×” ×•×ª×™×™×¨×•×ª",×§×•×œ× ×•×¢:"×‘×™×“×•×¨ ×•××•×¤× ×”","×‘×ª×™ ×§×¤×”":"×‘×™×“×•×¨ ×•××•×¤× ×”",××•×¤× ×”:"×‘×™×“×•×¨ ×•××•×¤× ×”"},Pe={×§××¢×•× ××•×ª:"#d68089",×§× ×™×•× ×™×:"#e8969f",××–×•×Ÿ:"#70bdb3",×˜×›× ×•×œ×•×’×™×”:"#e9ab56","×—×©××œ ×•×ª×§×©×•×¨×ª":"#c4956a","×‘×¨×™××•×ª ×•×ª×¨×•×¤×•×ª":"#4263aa","×¤×™× × ×¡×™× ×•×‘×™×˜×•×—":"#8b6f9e",×©×™×¨×•×ª×™×:"#5ba3cf","×ª×—×‘×•×¨×” ×•×ª×™×™×¨×•×ª":"#6ba58a","×‘×™×“×•×¨ ×•××•×¤× ×”":"#cf8a5b",×‘× ×™×™×”:"#948c89"};function De({companies:s}){const t={};s.forEach(d=>{const c=ne[d.industry]||d.industry||"×œ× ××•×’×“×¨";t[c]=(t[c]||0)+1});const o=Object.entries(t).sort((d,c)=>c[1]-d[1]),n=o.map(([d])=>d),l=o.map(([,d])=>-d),i=n.map(d=>Pe[d]||"#948c89"),a={};s.forEach(d=>{const c=ne[d.industry]||d.industry||"×œ× ××•×’×“×¨";d.status==="×›×Ÿ"&&(a[c]=(a[c]||0)+1)});const r={chart:{type:"bar",fontFamily:"Noto Sans Hebrew, sans-serif",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,distributed:!0,borderRadius:6,barHeight:"65%"}},colors:i,dataLabels:{enabled:!0,formatter:d=>Math.abs(d),style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px",fontWeight:600,colors:["#fff"]}},xaxis:{categories:n,max:0,labels:{formatter:d=>Math.abs(d),style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px"}}},yaxis:{opposite:!0,labels:{maxWidth:200,style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px",fontWeight:500,cssClass:"apexcharts-yaxis-label-shaveh"}}},legend:{show:!1},grid:{borderColor:"#f0e8e9",padding:{right:20},xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},tooltip:{style:{fontFamily:"Noto Sans Hebrew, sans-serif"},custom:({dataPointIndex:d})=>{const c=n[d],u=Math.abs(l[d]),h=a[c]||0,w=u>0?Math.round(h/u*100):0;return`<div style="padding:8px 12px;font-family:Noto Sans Hebrew;direction:rtl">
          <strong>${c}</strong><br/>
          ${u} ×—×‘×¨×•×ª | ${h} ×”×¦×˜×¨×¤×• (${w}%)
        </div>`}}};return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×—×œ×•×§×” ×œ×¤×™ ×¢× ×£"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-2",children:"×›××” ×—×‘×¨×•×ª ×‘×›×œ ×ª×¢×©×™×™×”"}),e.jsx(C,{type:"bar",series:[{data:l}],options:r,height:300})]})}const Be=["×’×œ×•×‘×œ×™×ª","×’×“×•×œ×”","×‘×™× ×•× ×™×ª","×§×˜× ×”"],We=["#4263aa","#70bdb3","#e9ab56","#e8969f"];function Ue({companies:s}){const t={};s.forEach(a=>{const r=a.companySize||"×œ× ××•×’×“×¨";t[r]=(t[r]||0)+1});const o=Be.filter(a=>t[a]),n=o.map(a=>t[a]),l=o.map((a,r)=>We[r]),i={chart:{type:"donut",fontFamily:"Noto Sans Hebrew, sans-serif",animations:{enabled:!0,speed:600}},labels:o,colors:l,legend:{position:"bottom",fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px",markers:{radius:4}},dataLabels:{enabled:!0,style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"13px"},formatter:(a,r)=>`${r.w.globals.series[r.seriesIndex]}`},plotOptions:{pie:{donut:{size:"60%",labels:{show:!0,total:{show:!0,label:"×¡×”×´×›",fontSize:"13px",fontFamily:"Noto Sans Hebrew, sans-serif",color:"#706e6d",formatter:()=>s.length},value:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"28px",fontWeight:700,color:"#454342"}}}}},tooltip:{style:{fontFamily:"Noto Sans Hebrew, sans-serif"},y:{formatter:a=>`${a} ×—×‘×¨×•×ª`}},stroke:{width:2,colors:["#f9f2f3"]}};return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×’×•×“×œ ×—×‘×¨×”"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-2",children:"×—×œ×•×§×” ×œ×¤×™ ×’×•×“×œ"}),e.jsx(C,{type:"donut",series:n,options:i,height:300})]})}function Ve({companies:s}){const t=s.filter(h=>h.emailSent).length,o=s.filter(h=>h.meetingHeld).length,n=s.filter(h=>h.agreementSent).length,l=s.filter(h=>h.agreementSigned).length,i=s.filter(h=>h.paid).length,a=[{from:"××™×™×œ",to:"×¤×’×™×©×”",fromCount:t,toCount:o},{from:"×¤×’×™×©×”",to:"×”×¡×›× × ×©×œ×—",fromCount:o,toCount:n},{from:"×”×¡×›× × ×©×œ×—",to:"×”×¡×›× ×—×ª×•×",fromCount:n,toCount:l},{from:"×”×¡×›× ×—×ª×•×",to:"×©×•×œ×",fromCount:l,toCount:i}];let r=a[0],d=0;a.forEach(h=>{const w=h.fromCount-h.toCount;w>d&&(d=w,r=h)});const c=r.fromCount>0?Math.round(r.toCount/r.fromCount*100):0,u=r.fromCount-r.toCount;return e.jsxs(j.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-sh-card rounded-card-sh shadow-card p-6 border-2 border-sh-pink",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ”"}),e.jsx("h2",{className:"text-lg font-bold text-sh-text",children:"× ×§×•×“×ª ×”×—× ×§"})]}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-4",children:"×”× ×¤×™×œ×” ×”×›×™ ×’×“×•×œ×” ×‘×ª×”×œ×™×š ×”×’×™×•×¡"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-4xl font-black text-sh-pink",children:u}),e.jsx("span",{className:"text-lg text-sh-text-muted",children:"×—×‘×¨×•×ª × ×ª×§×¢×•"})]}),e.jsxs("p",{className:"text-sm text-sh-text font-medium mb-3",children:["×‘×™×Ÿ ",e.jsx("span",{className:"font-bold",children:r.from})," ×œ",e.jsx("span",{className:"font-bold",children:r.to})]}),e.jsxs("div",{className:"bg-sh-pink-light rounded-xl p-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-sh-text-muted",children:"××—×•×– ×”××¨×” ×‘×©×œ×‘:"}),e.jsxs("span",{className:"font-bold text-sh-pink",children:[c,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-sh-text-muted",children:"× ×›× ×¡×• ×œ×©×œ×‘:"}),e.jsx("span",{className:"font-bold text-sh-text",children:r.fromCount})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-sh-text-muted",children:"×¢×‘×¨×• ×”×œ××”:"}),e.jsx("span",{className:"font-bold text-sh-text",children:r.toCount})]})]})]})}const qe=[{label:"×œ×§×•×—×•×ª ××©×œ××™×",filter:s=>s.paid,color:"bg-sh-green",textColor:"text-white"},{label:"×‘×“×¨×š ×œ×”×¦×˜×¨×¤×•×ª",filter:s=>!s.paid&&s.agreementSent,color:"bg-sh-green/60",textColor:"text-white"},{label:"××—×¨×™ ×¤×’×™×©×”",filter:s=>!s.agreementSent&&s.meetingHeld,color:"bg-sh-yellow",textColor:"text-white"},{label:"××™×™×œ ×‘×œ×‘×“",filter:s=>!s.meetingHeld&&s.emailSent,color:"bg-sh-pink",textColor:"text-white"},{label:"×˜×¨× ×¤× ×™× ×•",filter:s=>!s.emailSent,color:"bg-sh-pink-light",textColor:"text-sh-text"}];function Ze({companies:s}){const t=qe.map(n=>({...n,count:s.filter(n.filter).length})),o=Math.max(...t.map(n=>n.count),1);return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×¤×™×¨××™×“×ª ××¢×•×¨×‘×•×ª"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-6",children:"×—×œ×•×§×ª ×›×œ ×”×—×‘×¨×•×ª ×œ×¤×™ ×¢×•××§ ××¢×•×¨×‘×•×ª"}),e.jsx("div",{className:"space-y-2",children:t.map((n,l)=>{const i=Math.max(n.count/o*100,15);return e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:l*.08},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-28 text-xs text-sh-text-muted text-left flex-shrink-0",children:n.label}),e.jsx("div",{className:"flex-1 h-10 bg-sh-bg rounded-lg overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:.8,delay:l*.1,ease:"easeOut"},className:`h-full ${n.color} rounded-lg flex items-center justify-center`,children:e.jsx("span",{className:`text-sm font-bold ${n.textColor}`,children:n.count})})})]},n.label)})})]})}const Ge="/ZionismResilience/";function Ye({companyId:s}){const[t,o]=m.useState(!1);return t?null:e.jsx("img",{src:`${Ge}logos/${s}.png`,alt:"",width:32,height:32,className:"object-contain rounded-lg shrink-0",onError:()=>o(!0),loading:"lazy"})}const Qe=["strauss_sweets","strauss_salty","strauss_food","strauss_tami4","strauss_coffee"],le=[{key:"emailSent",label:"××™×™×œ"},{key:"meetingHeld",label:"×¤×’×™×©×”"},{key:"agreementSent",label:"×”×¡×›× × ×©×œ×—"},{key:"agreementSigned",label:"×”×¡×›× ×—×ª×•×"},{key:"paid",label:"×©×•×œ×"}];function Ke({companies:s}){const t=Qe.map(l=>s.find(i=>i.id===l)).filter(Boolean),o=t.filter(l=>l.status==="×›×Ÿ").length,n=t.filter(l=>l.paid).length;return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text",children:"×©×˜×¨××•×¡ - Case Study"}),e.jsxs("p",{className:"text-sm text-sh-text-muted",children:[o," ×—×˜×™×‘×•×ª ×¤×¢×™×œ×•×ª ××ª×•×š ",t.length," | ",n," ××©×œ××•×ª"]})]}),e.jsx("span",{className:"text-3xl",children:"â­"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:t.map((l,i)=>{const a=le.filter(d=>l[d.key]).length,r=l.status==="×›×Ÿ";return e.jsxs(j.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.08},className:`rounded-xl p-4 border-2 ${r?l.paid?"border-sh-green bg-sh-green-light/30":"border-sh-yellow bg-sh-yellow-light/30":"border-sh-pink-light bg-sh-pink-light/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ye,{companyId:l.id}),e.jsx("div",{className:"text-sm font-bold text-sh-text",children:l.name.replace("×©×˜×¨××•×¡ ","")})]}),e.jsx("div",{className:`text-xs px-2 py-0.5 rounded-pill inline-block mb-2 ${r?"bg-sh-green-light text-sh-green":"bg-sh-pink-light text-sh-pink"}`,children:l.status}),e.jsx("div",{className:"flex gap-0.5 mt-2",children:le.map(d=>e.jsx("div",{className:`h-1.5 flex-1 rounded-full ${l[d.key]?"bg-sh-green":"bg-sh-pink-light/50"}`,title:d.label},d.key))}),e.jsxs("div",{className:"text-xs text-sh-text-light mt-1",children:[a,"/5 ×©×œ×‘×™×"]})]},l.id)})})]})}const Je={industryReview:"×¡×§×™×¨×ª ×”×¢× ×£",surveyDesign:"× ×™×¡×•×— ×©××œ×•×Ÿ",participantRecruitment:"×’×™×•×¡ ××©×ª×ª×¤×™×",barrierMapping:"××™×¤×•×™ ×—×¡××™×",surveyDistribution:"×”×¤×¦×ª ×©××œ×•×Ÿ",responseCollection:"×¨×™×›×•×– ××¢× ×™×",expertRecruitment:"×’×™×•×¡ ×’×•×¨× ××§×¦×•×¢×™",recommendationsReport:"×“×•×— ×”××œ×¦×•×ª",userTesting:"×”×ª× ×¡×•×ª",socialPartnerRecruitment:"×’×™×•×¡ ×©×•×ª×£ ×—×‘×¨×ª×™",developmentRecommendations:"×”××œ×¦×•×ª ×œ×¤×™×ª×•×—",presentRecommendations:"×”×¦×’×ª ×”××œ×¦×•×ª",productDecision:"×‘×—×™×¨×ª ××•×¦×¨",ganttCreation:"×‘× ×™×™×ª ×’×× ×˜",processCompletion:"×¡×™×•× ×ª×”×œ×™×š",solutionValidation:"×ª×™×§×•×£",productImplementation:"×”×˜××¢×”",influencerSharing:"×©×™×ª×•×£ ××©×¤×™×¢× ×™×",digitalMarketing:"×©×™×•×•×§ ×“×™×’×™×˜×œ×™",pressReleaseDraft:"× ×™×¡×•×— ×”×•×“×¢×” ×œ×¢×™×ª×•× ×•×ª",pressReleaseApproval:"××™×©×•×¨ ×”×•×“×¢×”",websiteUpdate:"×¢×“×›×•×Ÿ ××ª×¨",exposureData:"× ×ª×•× ×™ ×—×©×™×¤×”"},Xe=[{name:"learning",label:"×œ××™×“×”",color:"#4263aa"},{name:"development",label:"×¤×™×ª×•×—",color:"#70bdb3"},{name:"marketing",label:"×©×™×•×•×§",color:"#e9ab56"}];function et({companies:s}){const t=R(),o=s.filter(l=>l.status==="×›×Ÿ"),n=Xe.map(l=>{const i=Object.keys(o[0]?.process?.[l.name]||{});return{...l,steps:i.map(a=>{let r=0,d=0,c=0;return o.forEach(u=>{const h=u.process?.[l.name]?.[a];h==="×›×Ÿ"?r++:h==="×‘×ª×”×œ×™×š"?d++:c++}),{key:a,label:Je[a]||a,yes:r,inProgress:d,no:c,total:o.length}})}});return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"××¢×§×‘ ×©×œ×‘×™ ×ª×”×œ×™×š"}),e.jsxs("p",{className:"text-sm text-sh-text-muted mb-6",children:["×”×ª×§×“××•×ª ",o.length," ×—×‘×¨×•×ª ×¤×¢×™×œ×•×ª ×‘-23 ×©×œ×‘×™ ×”×ª×”×œ×™×š"]}),e.jsx("div",{className:"space-y-6",children:n.map((l,i)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsx("h3",{className:"font-bold text-sh-text",children:l.label}),e.jsxs("span",{className:"text-xs text-sh-text-muted",children:["(",l.steps.length," ×©×œ×‘×™×)"]})]}),e.jsx("div",{className:"space-y-1.5",children:l.steps.map((a,r)=>{const d=a.yes/a.total*100,c=a.inProgress/a.total*100;return e.jsxs(j.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.1+r*.03},className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 text-xs text-sh-text-muted text-left flex-shrink-0 truncate",title:a.label,children:a.label}),e.jsxs("div",{className:"flex-1 h-5 bg-sh-bg rounded-md overflow-hidden flex",children:[a.yes>0&&e.jsx("div",{className:"h-full bg-sh-green transition-all",style:{width:`${d}%`}}),a.inProgress>0&&e.jsx("div",{className:"h-full bg-sh-yellow transition-all",style:{width:`${c}%`}})]}),e.jsxs("div",{className:"w-16 text-xs text-sh-text-muted text-left flex-shrink-0",children:[a.yes,"/",a.total]})]},a.key)})})]},l.name))}),e.jsxs("div",{className:"flex gap-4 mt-4 pt-4",style:{borderTop:`1px solid ${t.light}`},children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-sh-green"}),e.jsx("span",{className:"text-xs text-sh-text-muted",children:"×”×•×©×œ×"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-sh-yellow"}),e.jsx("span",{className:"text-xs text-sh-text-muted",children:"×‘×ª×”×œ×™×š"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-sh-bg"}),e.jsx("span",{className:"text-xs text-sh-text-muted",children:"×˜×¨× ×”×ª×—×™×œ"})]})]})]})}const tt=["#e8969f","#70bdb3","#4263aa","#e9ab56","#d68089","#8b6f9e","#5ba3cf","#948c89"];function st({companies:s}){const t={};s.forEach(a=>{a.referralSource1&&(t[a.referralSource1]=(t[a.referralSource1]||0)+1),a.referralSource2&&(t[a.referralSource2]=(t[a.referralSource2]||0)+1)});const o=Object.entries(t).sort((a,r)=>r[1]-a[1]),n=o.map(([a])=>a),l=o.map(([,a])=>a),i={chart:{type:"donut",fontFamily:"Noto Sans Hebrew, sans-serif",animations:{enabled:!0,speed:600}},labels:n,colors:tt.slice(0,n.length),legend:{position:"bottom",fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px",markers:{radius:4}},dataLabels:{enabled:!0,style:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"12px"},formatter:(a,r)=>`${r.w.globals.series[r.seriesIndex]}`},plotOptions:{pie:{donut:{size:"55%",labels:{show:!0,total:{show:!0,label:"×¢×¨×•×¦×™ ×¤× ×™×™×”",fontSize:"12px",fontFamily:"Noto Sans Hebrew, sans-serif",color:"#706e6d"},value:{fontFamily:"Noto Sans Hebrew, sans-serif",fontSize:"24px",fontWeight:700,color:"#454342"}}}}},tooltip:{style:{fontFamily:"Noto Sans Hebrew, sans-serif"},y:{formatter:a=>`${a} ×¤× ×™×•×ª`}},stroke:{width:2,colors:["#f9f2f3"]}};return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×¢×¨×•×¦×™ ×¤× ×™×™×”"}),e.jsx("p",{className:"text-sm text-sh-text-muted mb-2",children:"×›×™×¦×“ ×”×’×™×¢×• ××œ×™× ×• ×”×—×‘×¨×•×ª"}),e.jsx(C,{type:"donut",series:l,options:i,height:300})]})}function at({companies:s}){const t=s.filter(c=>c.emailSent).length,o=s.filter(c=>c.meetingHeld).length,n=t>0?(o/t*100).toFixed(0):"0",l=s.filter(c=>c.emailSent&&c.meetingHeld&&c.agreementSent&&c.agreementSigned&&c.paid).length,i=s.filter(c=>c.status==="×›×Ÿ"),a=i.length>0?(i.reduce((c,u)=>{let h=0;return u.emailSent&&h++,u.meetingHeld&&h++,u.agreementSent&&h++,u.agreementSigned&&h++,u.paid&&h++,c+h},0)/i.length).toFixed(1):"0",r=s.filter(c=>c.status==="×˜×¨× ×”×•×—×œ×˜").length,d=s.filter(c=>c.status==="×˜×¨× ×”×•×—×œ×˜"&&c.meetingHeld).length;return e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsx(S,{label:"××™×™×œ ×œ×¤×’×™×©×”",value:`${n}%`}),e.jsx(S,{label:"×—×‘×¨×•×ª ×¢× ×›×œ 5 ×”×©×œ×‘×™×",value:l}),e.jsx(S,{label:"×××•×¦×¢ ×©×œ×‘×™× (×—×‘×¨×” ×¤×¢×™×œ×”)",value:a}),e.jsx(S,{label:"×˜×¨× ×”×•×—×œ×˜",value:r}),e.jsx(S,{label:"×˜×¨× ×”×•×—×œ×˜ + ×¤×’×™×©×”",value:d,accent:!0})]})}const nt=[{label:"×—× - ×¤×’×™×©×” + ×”×¡×›×",filter:s=>s.status==="×˜×¨× ×”×•×—×œ×˜"&&s.agreementSent,color:"bg-red-100 border-red-300",badge:"bg-red-200 text-red-700",icon:"ğŸ”¥"},{label:"×—××™× - ×¢×‘×¨×• ×¤×’×™×©×”",filter:s=>s.status==="×˜×¨× ×”×•×—×œ×˜"&&s.meetingHeld&&!s.agreementSent,color:"bg-orange-50 border-orange-200",badge:"bg-orange-100 text-orange-600",icon:"ğŸŒ¡ï¸"},{label:"×§×¨ - ××™×™×œ ×‘×œ×‘×“",filter:s=>s.status==="×˜×¨× ×”×•×—×œ×˜"&&s.emailSent&&!s.meetingHeld,color:"bg-blue-50 border-blue-200",badge:"bg-blue-100 text-blue-600",icon:"â„ï¸"},{label:"×˜×¨× ×¤× ×™× ×•",filter:s=>s.status==="×˜×¨× ×”×•×—×œ×˜"&&!s.emailSent,color:"bg-gray-50 border-gray-200",badge:"bg-gray-100 text-gray-500",icon:"ğŸ“‹"}];function lt({companies:s}){const t=nt.map(n=>({...n,companies:s.filter(n.filter)})).filter(n=>n.companies.length>0),o=s.filter(n=>n.status==="×˜×¨× ×”×•×—×œ×˜").length;return e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-sh-text mb-1",children:"×”× ×¢×•×“ ×œ× ×××¨×• ×œ×"}),e.jsxs("p",{className:"text-sm text-sh-text-muted mb-6",children:[o,' ×—×‘×¨×•×ª ×‘×¡×˜×˜×•×¡ "×˜×¨× ×”×•×—×œ×˜" ×œ×¤×™ ×¨××ª ×—×•×']}),e.jsx("div",{className:"space-y-5",children:t.map((n,l)=>e.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.1},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{children:n.icon}),e.jsx("h3",{className:"text-sm font-bold text-sh-text",children:n.label}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-pill ${n.badge}`,children:n.companies.length})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.companies.map(i=>e.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-lg border ${n.color}`,title:i.requirements||i.notes||"",children:[e.jsx(W,{companyId:i.id,size:16,className:"rounded-sm"}),i.name]},i.id))})]},n.label))})]})}const rt="/ZionismResilience/";function W({companyId:s,size:t=32,className:o=""}){const[n,l]=m.useState(!1);return n?null:e.jsx("img",{src:`${rt}logos/${s}.png`,alt:"",width:t,height:t,className:`object-contain rounded-lg shrink-0 ${o}`,onError:()=>l(!0),loading:"lazy"})}const re={×›×Ÿ:"bg-sh-green-light text-sh-green",×œ×:"bg-sh-pink-light text-sh-pink","×˜×¨× ×”×•×—×œ×˜":"bg-sh-yellow-light text-sh-yellow"},U=[{key:"emailSent",label:"××™×™×œ × ×©×œ×—"},{key:"meetingHeld",label:"×¤×’×™×©×”"},{key:"agreementSent",label:"×”×¡×›× × ×©×œ×—"},{key:"agreementSigned",label:"×”×¡×›× ×—×ª×•×"},{key:"paid",label:"×©×•×œ×"}],it={industryReview:"×¡×§×™×¨×ª ×”×¢× ×£",surveyDesign:"× ×™×¡×•×— ×©××œ×•×Ÿ",participantRecruitment:"×’×™×•×¡ ××©×ª×ª×¤×™×",barrierMapping:"××™×¤×•×™ ×—×¡××™×",surveyDistribution:"×”×¤×¦×ª ×©××œ×•×Ÿ",responseCollection:"×¨×™×›×•×– ××¢× ×™×",expertRecruitment:"×’×™×•×¡ ×’×•×¨× ××§×¦×•×¢×™",recommendationsReport:"×“×•×— ×”××œ×¦×•×ª",userTesting:"×”×ª× ×¡×•×ª",socialPartnerRecruitment:"×’×™×•×¡ ×©×•×ª×£ ×—×‘×¨×ª×™",developmentRecommendations:"×”××œ×¦×•×ª ×œ×¤×™×ª×•×—",presentRecommendations:"×”×¦×’×ª ×”××œ×¦×•×ª",productDecision:"×‘×—×™×¨×ª ××•×¦×¨",ganttCreation:"×‘× ×™×™×ª ×’×× ×˜",processCompletion:"×¡×™×•× ×ª×”×œ×™×š",solutionValidation:"×ª×™×§×•×£",productImplementation:"×”×˜××¢×”",influencerSharing:"×©×™×ª×•×£ ××©×¤×™×¢× ×™×",digitalMarketing:"×©×™×•×•×§ ×“×™×’×™×˜×œ×™",pressReleaseDraft:"× ×™×¡×•×— ×”×•×“×¢×” ×œ×¢×™×ª×•× ×•×ª",pressReleaseApproval:"××™×©×•×¨ ×”×•×“×¢×”",websiteUpdate:"×¢×“×›×•×Ÿ ××ª×¨",exposureData:"× ×ª×•× ×™ ×—×©×™×¤×”"};function ie(s){return U.filter(t=>s[t.key]).length}function ot(){const{companies:s}=fe,[t,o]=m.useState(null),[n,l]=m.useState(0),[i,a]=m.useState("×”×›×œ"),[r,d]=m.useState("×”×›×œ"),[c,u]=m.useState("×”×›×œ"),[h,w]=m.useState("×”×›×œ"),[H,V]=m.useState("×”×›×œ"),[$,q]=m.useState("×”×›×œ"),[A,Z]=m.useState("×”×›×œ"),[F,G]=m.useState("×”×›×œ"),[z,Y]=m.useState("×”×›×œ"),[k,Q]=m.useState(""),de=[{label:"×¨×™×›×•×– ××™×“×¢",id:"general",Icon:Ee},{label:"×©×œ×‘×™ ×”×ª×”×œ×™×š",id:"phases",Icon:Re},{label:"×¤×™×¨×•×˜ ×”×—×‘×¨×•×ª",id:"companies",Icon:ke}],p=[{id:"pink",accent:"#e8969f",light:"#f8dfe2",bg:"#f9f2f3",lightAlpha40:"rgba(248,223,226,0.4)",lightAlpha50:"rgba(248,223,226,0.5)",lightAlpha60:"rgba(248,223,226,0.6)",lightAlpha30:"rgba(248,223,226,0.3)"},{id:"blue",accent:"#4263aa",light:"#d6dff2",bg:"#f2f4f9",lightAlpha40:"rgba(214,223,242,0.4)",lightAlpha50:"rgba(214,223,242,0.5)",lightAlpha60:"rgba(214,223,242,0.6)",lightAlpha30:"rgba(214,223,242,0.3)"},{id:"green",accent:"#70bdb3",light:"#caece9",bg:"#f2f9f7",lightAlpha40:"rgba(202,236,233,0.4)",lightAlpha50:"rgba(202,236,233,0.5)",lightAlpha60:"rgba(202,236,233,0.6)",lightAlpha30:"rgba(202,236,233,0.3)"}][n],L=["×”×›×œ","×›×Ÿ","×œ×","×˜×¨× ×”×•×—×œ×˜"],M=m.useMemo(()=>{const x=new Set(s.map(g=>g.industry).filter(Boolean));return["×”×›×œ",...Array.from(x).sort()]},[s]),T=m.useMemo(()=>{const x=["×§×˜× ×”","×‘×™× ×•× ×™×ª","×’×“×•×œ×”","×’×œ×•×‘×œ×™×ª"],g=new Set(s.map(f=>f.companySize).filter(Boolean));return["×”×›×œ",...x.filter(f=>g.has(f))]},[s]);function I(x,g,f,P){let y=x;return g!=="×”×›×œ"&&(y=y.filter(N=>N.status===g)),f!=="×”×›×œ"&&(y=y.filter(N=>N.industry===f)),P!=="×”×›×œ"&&(y=y.filter(N=>N.companySize===P)),y}const b=m.useMemo(()=>I(s,i,r,c),[s,i,r,c]),O=m.useMemo(()=>I(s,h,H,$),[s,h,H,$]),_=m.useMemo(()=>{let x=I(s,A,F,z);if(k.trim()){const g=k.trim().toLowerCase();x=x.filter(f=>f.name.toLowerCase().includes(g)||f.notes&&f.notes.toLowerCase().includes(g)||f.requirements&&f.requirements.toLowerCase().includes(g)||f.industry&&f.industry.toLowerCase().includes(g))}return x},[s,A,F,z,k]),xe=b.length,K=b.filter(x=>x.paid).length,he=b.filter(x=>x.meetingHeld).length,me=b.filter(x=>x.agreementSigned).length,J=b.filter(x=>x.emailSent).length,ue=J>0?(K/J*100).toFixed(1):"0",X=i!=="×”×›×œ"||r!=="×”×›×œ"||c!=="×”×›×œ",ee=h!=="×”×›×œ"||H!=="×”×›×œ"||$!=="×”×›×œ",ge=A!=="×”×›×œ"||F!=="×”×›×œ"||z!=="×”×›×œ"||k;return e.jsxs(j.div,{className:"min-h-screen font-noto",dir:"rtl",animate:{backgroundColor:p.bg},transition:{duration:.4,ease:"easeInOut"},style:{"--theme-accent":p.accent,"--theme-light":p.light,"--theme-light-40":p.lightAlpha40,"--theme-light-50":p.lightAlpha50,"--theme-light-60":p.lightAlpha60,"--theme-accent-10":p.accent+"1a"},children:[e.jsxs("header",{className:"bg-sh-card shadow-card px-8 py-4 flex items-center justify-between sticky top-0 z-50",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-sh-text",children:"×“×©×‘×•×¨×“ ×©×•×•×” ×¤×™×ª×•×—"}),e.jsx("p",{className:"text-sm text-sh-text-muted",children:"××™×–× ×œ×”×ª×××ª ××•×¦×¨×™× ×•×©×™×¨×•×ª×™× ×œ×× ×©×™× ×¢× ××•×’×‘×œ×•×ª"})]}),e.jsx("img",{src:"/ZionismResilience/zionism2000-logo.jpg",alt:"×¦×™×•× ×•×ª 2000",className:"h-12 object-contain"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 mt-6 mb-2",children:e.jsx(j.div,{className:"flex gap-1 rounded-2xl p-1.5 shadow-sm",animate:{backgroundColor:p.lightAlpha40,borderColor:p.lightAlpha50},transition:{duration:.4,ease:"easeInOut"},style:{borderWidth:"1px",borderStyle:"solid"},children:de.map((x,g)=>e.jsxs("button",{onClick:()=>l(g),className:`flex-1 px-6 py-3 rounded-xl text-base font-bold transition-all flex items-center justify-center gap-2.5 ${n===g?"bg-sh-card shadow-card text-sh-text":"text-sh-text-muted hover:text-sh-text hover:bg-sh-card/50"}`,children:[e.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-300",style:{backgroundColor:n===g?p.lightAlpha60:p.lightAlpha30},children:e.jsx(x.Icon,{size:16,strokeWidth:2.2,className:"transition-colors duration-300",style:{color:n===g?p.accent:"#948c89"}})}),x.label]},x.id))})}),e.jsx(ce.Provider,{value:p,children:e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-6 space-y-8",children:[n===0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(v,{label:"×¡×˜×˜×•×¡",value:i,options:L,onChange:a}),e.jsx(v,{label:"×¢× ×£",value:r,options:M,onChange:d}),e.jsx(v,{label:"×’×•×“×œ",value:c,options:T,onChange:u}),X&&e.jsx("button",{onClick:()=>{a("×”×›×œ"),d("×”×›×œ"),u("×”×›×œ")},className:"text-sm underline",style:{color:p.accent},children:"× ×§×” ×”×›×œ"}),X&&e.jsxs("span",{className:"text-xs text-sh-text-light mr-auto",children:[b.length," ××ª×•×š ",s.length," ×—×‘×¨×•×ª"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsx(S,{label:"×—×‘×¨×•×ª ×‘×œ×™×•×•×™",value:xe,accent:!0}),e.jsx(S,{label:"×—×‘×¨×•×ª ×©×”×¦×˜×¨×¤×•",value:K}),e.jsx(S,{label:"×¤×’×™×©×•×ª ×©×”×ª×§×™×™××•",value:he}),e.jsx(S,{label:"×”×¡×›××™× ×©× ×—×ª××•",value:me}),e.jsx(S,{label:"××—×•×– ×”××¨×”",value:`${ue}%`})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Te,{companies:b})}),e.jsx(st,{companies:b})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Ie,{companies:b}),e.jsx(Oe,{companies:b}),e.jsx(Ze,{companies:b})]}),e.jsx(at,{companies:b}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(De,{companies:b}),e.jsx(Ue,{companies:b}),e.jsx(Ve,{companies:b})]}),e.jsx(Ke,{companies:b})]}),n===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(v,{label:"×¡×˜×˜×•×¡",value:h,options:L,onChange:w}),e.jsx(v,{label:"×¢× ×£",value:H,options:M,onChange:V}),e.jsx(v,{label:"×’×•×“×œ",value:$,options:T,onChange:q}),ee&&e.jsx("button",{onClick:()=>{w("×”×›×œ"),V("×”×›×œ"),q("×”×›×œ")},className:"text-sm underline",style:{color:p.accent},children:"× ×§×” ×”×›×œ"}),ee&&e.jsxs("span",{className:"text-xs text-sh-text-light mr-auto",children:[O.length," ××ª×•×š ",s.length," ×—×‘×¨×•×ª"]})]}),e.jsx(et,{companies:O}),e.jsx(lt,{companies:O})]}),n===2&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-sh-card rounded-card-sh shadow-card p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-sh-text mb-4",children:["×—×‘×¨×•×ª (",_.length,_.length!==s.length?` ××ª×•×š ${s.length}`:"",")"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4 items-start sm:items-center flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsx(_e,{value:k,onChange:Q})}),e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[e.jsx(v,{label:"×¡×˜×˜×•×¡",value:A,options:L,onChange:Z}),e.jsx(v,{label:"×¢× ×£",value:F,options:M,onChange:G}),e.jsx(v,{label:"×’×•×“×œ",value:z,options:T,onChange:Y}),ge&&e.jsx("button",{onClick:()=>{Q(""),Z("×”×›×œ"),G("×”×›×œ"),Y("×”×›×œ")},className:"text-sm underline",style:{color:p.accent},children:"× ×§×” ×”×›×œ"})]})]}),e.jsx(j.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.jsx(B,{children:_.map(x=>e.jsxs(j.div,{layout:!0,initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.2},onClick:()=>o(x),className:"border rounded-xl p-4 hover:shadow-card-hover transition-shadow cursor-pointer",style:{borderColor:p.light},children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(W,{companyId:x.id,size:32}),e.jsx("div",{className:"font-bold text-sh-text truncate",children:x.name})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-pill font-medium whitespace-nowrap ${re[x.status]||"bg-gray-100 text-sh-text-muted"}`,children:x.status||"â€”"})]}),e.jsxs("div",{className:"flex gap-1 flex-wrap mb-2",children:[x.industry&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-sh-bg text-sh-text-light",children:x.industry}),x.companySize&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-sh-bg text-sh-text-light",children:x.companySize})]}),e.jsx("div",{className:"flex gap-1",children:U.map(g=>e.jsx("div",{className:`h-1.5 flex-1 rounded-full ${x[g.key]?"bg-sh-green":"bg-sh-pink-light/50"}`,title:g.label},g.key))}),e.jsxs("div",{className:"text-xs text-sh-text-light mt-1",children:[ie(x)," ××ª×•×š 5 ×©×œ×‘×™×"]})]},x.id))})})]})})]})}),e.jsx("footer",{className:"mt-12 bg-sh-card/60",style:{borderTop:`1px solid ${p.lightAlpha50}`},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-sh-text-muted",children:"×“×©×‘×•×¨×“ ×©×•×•×” ×¤×™×ª×•×— Â· ×¦×™×•× ×•×ª 2000"}),e.jsx("div",{className:"text-xs text-sh-text-light",children:"×¢×•×“×›×Ÿ ×œ××—×¨×•× ×”: ×¤×‘×¨×•××¨ 2026"})]})}),e.jsx(B,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 z-40",onClick:()=>o(null)}),e.jsxs(j.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:320,damping:32},className:"fixed top-0 left-0 h-full w-full max-w-lg bg-sh-card shadow-2xl z-50 overflow-y-auto p-8",dir:"rtl",children:[e.jsx("button",{onClick:()=>o(null),className:"text-sh-text-muted hover:text-sh-text text-2xl leading-none mb-6 block",children:"âœ•"}),e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(W,{companyId:t.id,size:48}),e.jsx("h2",{className:"text-2xl font-black text-sh-text",children:t.name})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap mb-6 mt-3",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-pill font-medium ${re[t.status]||"bg-gray-100 text-sh-text-muted"}`,children:t.status||"×œ× ×™×“×•×¢"}),t.recruitmentStatus&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-pill font-medium bg-sh-pink-light/50 text-sh-text-muted",children:t.recruitmentStatus}),t.industry&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-pill font-medium bg-sh-bg text-sh-text-muted",children:t.industry}),t.companySize&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-pill font-medium bg-sh-bg text-sh-text-muted",children:t.companySize}),t.referralSource1&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-pill font-medium bg-sh-bg text-sh-text-muted",children:t.referralSource1})]}),e.jsx("h3",{className:"font-bold text-sh-text mb-3",children:"×©×œ×‘×™ ×’×™×•×¡"}),e.jsx("div",{className:"space-y-2 mb-6",children:U.map(x=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${t[x.key]?"bg-sh-green text-white":"bg-sh-pink-light text-sh-text-light"}`,children:t[x.key]?"âœ“":"â€”"}),e.jsx("span",{className:`text-sm ${t[x.key]?"text-sh-text font-medium":"text-sh-text-light"}`,children:x.label})]},x.key))}),t.status==="×›×Ÿ"&&t.process&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-sh-text mb-3",children:"×©×œ×‘×™ ×ª×”×œ×™×š"}),[{name:"learning",label:"×œ××™×“×”",color:"#4263aa"},{name:"development",label:"×¤×™×ª×•×—",color:"#70bdb3"},{name:"marketing",label:"×©×™×•×•×§",color:"#e9ab56"}].map(x=>{const g=t.process[x.name];if(!g)return null;const f=Object.entries(g);return f.some(([,y])=>y!==null)?e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:x.color}}),e.jsx("span",{className:"text-sm font-bold text-sh-text",children:x.label})]}),e.jsx("div",{className:"space-y-1",children:f.map(([y,N])=>N===null?null:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${N==="×›×Ÿ"?"bg-sh-green text-white":N==="×‘×ª×”×œ×™×š"?"bg-sh-yellow text-white":"bg-sh-pink-light text-sh-text-light"}`,children:N==="×›×Ÿ"?"âœ“":N==="×‘×ª×”×œ×™×š"?"â—":"â€”"}),e.jsx("span",{className:`text-xs ${N==="×›×Ÿ"?"text-sh-text":N==="×‘×ª×”×œ×™×š"?"text-sh-yellow":"text-sh-text-light"}`,children:it[y]||y})]},y))})]},x.name):null})]}),t.outcomes?.hasProduct!==null&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-sh-text mb-2 mt-4",children:"×ª×•×¦×¨×™×"}),e.jsxs("div",{className:"bg-sh-green-light/30 rounded-xl p-4 mb-4 space-y-2",children:[t.outcomes.productDescription&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-sh-text-muted",children:"××•×¦×¨/×©×™×¨×•×ª: "}),e.jsx("span",{className:"text-sm text-sh-text",children:t.outcomes.productDescription})]}),t.outcomes.satisfaction&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-sh-text-muted",children:"×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ: "}),e.jsx("span",{className:"text-sm text-sh-text",children:t.outcomes.satisfaction})]}),t.outcomes.mediaExposure&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-sh-text-muted",children:"×—×©×™×¤×”: "}),e.jsx("span",{className:"text-sm text-sh-text",children:t.outcomes.mediaExposure})]})]})]}),t.notes&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-sh-text mb-2",children:"×”×¢×¨×•×ª"}),e.jsx("p",{className:"text-sm text-sh-text leading-relaxed bg-sh-yellow-light rounded-xl p-4 mb-4",children:t.notes})]}),t.requirements&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-sh-text mb-2",children:"××” × ×“×¨×©"}),e.jsx("p",{className:"text-sm text-sh-text leading-relaxed bg-sh-green-light rounded-xl p-4 mb-4",children:t.requirements})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-sh-pink-light",children:[e.jsxs("div",{className:"text-3xl font-black text-sh-text",children:[ie(t),e.jsx("span",{className:"text-lg font-bold text-sh-text-muted",children:" / 5"})]}),e.jsx("div",{className:"text-sm text-sh-text-muted",children:"×©×œ×‘×™ ×’×™×•×¡ ×©×”×•×©×œ××•"})]})]})]})})]})}pe.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(ot,{})}));
